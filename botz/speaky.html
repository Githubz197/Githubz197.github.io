<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
 <link rel="icon" type="image/x-icon" href="https://cdn-icons-png.flaticon.com/64/4086/4086305.png">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Girls Speaky JSON</title>
  <style type="text/css">
    body {
      background: rgb(2,0,36);
      background: linear-gradient(322deg, rgba(250,120,215,1) 0%, rgba(20,20,99,1) 100%);
      margin: 0;
      padding: 0;
      font-family: Arial, Helvetica, sans-serif;
    }

    table.tableizer-table {
      padding:20px;
      border-radius:30px;
      font-size: 14px;
      text-align: center;
      border: 1px solid #AACA;
      background: none;
      width: 100%;
      margin: auto; /* Center-align the table */
    }

    .tableizer-table td, .tableizer-table th {
border-radius:3px;
      padding: 4px;
      margin: 3px;
      background: rgba(0,0,6,0.5);
      border: 1px solid #039;
      color: #FFF;
    }

    .tableizer-table th {
      background-color: #104E8B;
      color: #FFF;
      font-weight: bold;
    }

  </style></head>
<body>

<p id="datetime" style="text-align: center; color: #FFF; font-weight: bold;"></p>

<script>
  // Get current date and time
  var now = new Date();
// COMPLETE DATE
//var datetime = now.toLocaleString();
  var datetime = now.toLocaleTimeString();

  var TodayDate = (now.getDate()) + '/' + (now.getMonth() + 1);


  // Insert date and time into HTML
  document.getElementById("datetime").innerHTML = (TodayDate + ' â€” ' + datetime);
</script>

<table id="myTable" class="tableizer-table">
  <thead>
    <tr class="tableizer-firstrow">
      <th>Speaky Girls</th>
      <th>.</th>
    </tr>
  </thead>
  <tbody>
    <!-- Table body will be filled dynamically using JavaScript -->
  </tbody>
</table>
    <div id="errorContainer" style="text-align: center; color: #FFF; font-weight: bold;"><img id="loading" width="90" src="https://githubz197.github.io/botz/Spinnerz128px.svg"></div>
<script>
  // Fetch JSON data from the provided URL
  fetch('https://getpantry.cloud/apiv1/pantry/83d420ad-eec1-4cd6-b880-3cfa88bda583/basket/SpeakyPichito')
//fetch('https://api.npoint.io/9b68b707bf7cb36cd090')
    .then(response => response.json())
    .then(data => {
      // Extract Girls array from JSON data
      const girls = data.Girls;
      
      // Get the table body element
      const tbody = document.querySelector('#myTable tbody');
      
      // Loop through the girls array and create table rows
      girls.forEach(girl => {
        // Create a table row
        const row = document.createElement('tr');
        
        // Create table data for name and date
        const nameCell = document.createElement('td');
        const dateCell = document.createElement('td');
        
        // Set text content for name and date cells
        nameCell.textContent = girl.name;
        dateCell.textContent = girl.date;
        
        // Append cells to the row
        row.appendChild(nameCell);
        row.appendChild(dateCell);
        
        // Append row to the table body
        tbody.appendChild(row);

    // Get a reference to the image element
    var img = document.getElementById('loading');
    // Hide the image by setting its display property to 'none'
    img.style.display = 'none';

      });
    })
            .catch(error => {

              // Get a reference to the image element
              var img = document.getElementById('loading');
              // Hide the image by setting its display property to 'none'
              img.style.display = 'none';

                console.error('Error fetching JSON:', error);
                const errorContainer = document.querySelector('#errorContainer');
                errorContainer.textContent = 'Error fetching JSON: ' + error;
            });

</script>

<script>
////////////////// Highlight TODAY with GREEN
var now = new Date();
var day = now.getDate();
var month = now.getMonth() + 1;

// Add to single-digit months a leading zero
if (month < 10) {month = '0' + month;}

var Todayz = day + '/' + month;
var TodayzString = Todayz.toString();
console.log(TodayzString);


 // Function to highlight TRs containing the word "Julia"
function highlightJulia() {
    // Get all <tr> elements
    var trElements = document.getElementsByTagName("tr");

    // Loop through each <tr> element
    for (var i = 0; i < trElements.length; i++) {
        var tdElements = trElements[i].getElementsByTagName("td");
        
        // Loop through each <td> element within the <tr>
        for (var j = 0; j < tdElements.length; j++) {
            var tdContent = tdElements[j].innerText || tdElements[j].textContent;
            
            // Check if the content of the <td> contains the word "Julia"
            if (tdContent.includes(TodayzString)) {
                // Highlight the <tr> element
                trElements[i].style.backgroundColor = "lime";
                // Break the loop as the word "Julia" is found in this row
                break;
            }

// Getting yesterday's date
var yesterday = new Date(now);
yesterday.setDate(now.getDate() - 1);
var yesterdayDay = yesterday.getDate();
var yesterdayMonth = yesterday.getMonth() + 1;

// add single-digit months with a leading zero
if (yesterdayMonth < 10) {
    yesterdayMonth = '0' + yesterdayMonth;
}

var Yesterdayz = yesterdayDay + '/' + yesterdayMonth;
var YesterdayzString = Yesterdayz.toString();
console.log("Yesterdayz:", YesterdayzString);

            // Check if the content of the <td> contains Yesterday's Date
            if (tdContent.includes(YesterdayzString)) {
                // Highlight the <tr> element
                trElements[i].style.backgroundColor = "yellow";
                // Break the loop as the word "Julia" is found in this row
                break;
            }

        }
    }
}

// Execute the highlighting function every 100 milliseconds for 10 seconds
var highlightInterval = setInterval(function() {
    highlightJulia();
}, 100);

// Stop executing the highlighting function after 10 seconds
setTimeout(function() {
    clearInterval(highlightInterval);
}, 10000);

</script>
 
</body>
</html>
